!function(o){var t={DOWN:"down",UP:"up"};o.fn.sticky=function(i,s,n){var c,e=o(this),u=o("body").height(),r=i.height(),a=s.height(),f=n.height(),h=e.height(),p=e.offset().top,l=o(window).scrollTop();s.css("position","relative"),o(window).on("scroll",function(){var i=o(this).scrollTop();switch(c=i>l?t.DOWN:t.UP,l=i,c){case t.DOWN:!b()&&!d()&&i>p?w():!d()&&i+h>r+a?g():p>=i&&r+a>=i+h&&v();break;case t.UP:d()&&u-i>f+h?w():p>i&&v()}});var b=function(){return"fixed"===e.css("position")},d=function(){return"absolute"===e.css("position")},w=function(){e.css({position:"fixed",top:0,bottom:"auto"})},g=function(){e.css({position:"absolute",top:"auto",bottom:0})},v=function(){e.css({position:"static",top:"auto",bottom:"auto"})};return e}}(jQuery);